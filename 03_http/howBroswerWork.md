# 브라우저 동작 방식

## 브라우저의 기능
- 사용자가 선택한 자원을 서버에 요청하고, 브라우저에 표시한다
- 자원은 html, pdf, image등 다양한 형태
- 자원의 주소는 URL에 의해 정해진다
- 브라우저는 html과 css 명세에 따라 html 파일을 해석해서 표시
- 이 명세는 많이 들어봤었던 W3C가 정한다.

## 브라우저 기본 구조
![요렇게생김](https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png)
- 브라우저 엔진 : 사용자 인터페이스와 렌더링 엔진 사이의 동작 제어
- 렌더링 엔진 : 요청한 컨텐츠를 표시해줌
- 통신 : http 요청과 같은 네트워크 호출에 사용
- UI 백엔드 : 플랫폼에서 명시하지 않은 일반적 인터페이스, 콤보 박스 창같은 기본적 장치를 그림(?????인터페이스 그린다는건가)
- 자바스크립트 해석기 : 자스 코드 해석하고 실행
- 자료 저장소 : 쿠키 등 모든 종류의 자원을 하드 디스크에 저장하는 계층

## 렌더링이란
- 렌더링 엔진은 요청받은 내용을 브라우저 화면에 표시해줌
- html, xml, 이미지를 표시(기본적으로)
- 크롬과 사파리는 webkit 엔진을 사용

## 렌더링 동작 과정
1. 돔트리 구축위한 HTML 파싱
2. 렌더 트리 구축
3. 렌더 트리 배치
4. 렌더 트리 그리기

### 세부 동작 과정
1. html문서를 파싱해서 태그를 모두 돔노드로 변환
2. 외부 css파일같은 스타일 요소를 파싱
3. 스타일정보, html표시 규칙은 렌더 트리라고 부르는 또다른 트리 생성
4. 생성된 렌더 트리는 정해진 순서대로 화면에 표시됨, 생성 과정이 끝났을때 배치가 진행되면서 노드가 화면에 정확한 위치에 표시
5. 이후에 UI 백엔드에서 렌더 트리의 각 노드를 가로지으면서 형상을 만드는 그리기 과정
6. 렌더링 엔진은 좀더 빠르게 사용자에게 제공하기 위해 모든 html을 파싱할때까지 기다리지 않고 배치와 그리기를 함

## DOM
- Document Object Model(문서 객체 모델)
- DOM은 웹 브라우저가 html페이지를 인식하는 방법임
- 자바스크립트가 활용할 수 있음
- html을 파싱해서 돔트리로 만드는구나
![과정](https://d2.naver.com/content/images/2015/06/helloworld-59361-3.png)
- HTML 파싱한거 => DOM 트리 + CSS 파싱한거 => (어태치먼트) => 렌더트리 => 배치하고 그림

## 파싱
- 렌더링 엔진에서 중요한 과정
- 브라우저가 코드를 이해하고 사용할 수 있는 구조로 변환
- 서버로부터 받은 문서를 브라우저가 이해하고 쉽게 사용할 수 있는 DOM 트리 구조로 변환시켜준다







