# 리눅스와 쉘 스크립트

내가 이걸 공부하다니...

## 1. 리눅스와 쉘

- 운영체제의 본질 : 하드웨어를 쉽게 사용할 수 있도록 해주는 소프트웨어
- 쉘의 종류 : sh -> csh -> ksh -> **bash**
- sh : 최초의 유닉스 쉘
- bash : GNU 프로젝트의 리눅스 기본쉘 기본쉘을 대체하고 호환함($, #)
- CLI를 사용하는 이유 : 그래픽이 차지하는 리소스를 줄이기 위해서(시피유나 메모리의 사용량),
- 배쉬 커맨드라인 단축키
  - tab치면: 명령 자동완성
  - pwd: 현재 디렉토리
  - cd, ls
  - ctrl + c : 인터럽트 시그널을 보내 실행중인 프로세스를 중단
  - ctrl + a : 라인 맨 앞으로 커서 이동
  - ctrl : e : 라인 맨 뒤로 커서 이동
  - ctrl + r : 히스토리 검색모드로 전환

## 2. 리눅스 명령어

### 기본

- cd: 현재 작업 디렉토리를 지정한 디렉토리로 변경
- ls : 현 디렉토리의 파일 목록을 출력
- df : 마운트된 모든 장치에 대한 현재의 디스크 공간 통계 출력
- cd - : 바로 직전 디렉토리 왓갓
- ls -al : 파일들의 모든 정보, 숨겨진 파일까지 모두 출력
- ls -alh : 사람이 읽기 편한 용량으로 보여줌
- ls -alt : 시간순 정렬
- ls -al | awk `{print $9}` : 몇번째 파일명
- df -h : df의 휴머나이즈 옵션
- pwd : 현재 위치한 디렉토리의 절대경로를 출력
- mkdir : 디렉토리 생성
- rmdir : 디렉토리를 삭제 (rmdir -rf : 안에 파일이 있으면 삭제할 수 없음)
- touch : 비어있는 파일을 만들어줌
- mount : 디스크 장치를 표시하거나 가상 파일 시스템(공유폴더?)으로 지정한 디렉토리를 연결(AWS EBS같은거 연결할때)
- mount -t nfs 아이피:nfs /mnt: 마운트 타입 지정해서 특정 파일시스템에 연결, 연결하고나서 rmdir로 삭제가능
- umount : 마운트 해제
- stat : 지정한 파일의 파일통계를 출력

### 파일 관련

- touch : 지정한 이름의 비어있는 파일을 생성(이게 더 잦은 목적)하거나 파일이 있는 경우 타임스탬프 업데이트. 파일을 연달아 쓰면 연달아 만들어준다
- cat : 지정한 파일의 내용을 출력(catenate)
- head : 지정한 파일의 1라인부터 지정한 라인까지 출력 (head -n 5 testfile.txt) n은 넘버옵션
- tail : 지정한 파일의 마지막 라인부터 지정한 라인까지 출력 (tail -n 2 testfile.txt). 로그같은거 출력할때 유용함
- cp : 파일을 복사함. r, f, p 옵션 사용. 원본 파일 패스/이름 복사파일패스/이름
  - r : 하위 디렉토리 포함
  - f : 같은이름의 파일이 있으면 강제로 덮어씌우기
  - p : 실행권한 그대로 복사
- mv : 지정한 파일을 지정한 위치와 이름으로 이동(원본 파일이 안남아있음)
- rename : 지정한 규칙에 따라 여러개의 파일 이름을 변경함 - 정규표현식 사용 가능
- rm : 지정한 파일의 삭제. 휴지통이 없기때문에 복구가 불가능함 r,f,p 옵션은 똑같음. 파일은 rm -f, 디렉토리는 삭제는 rm -rf로
- less: 상하로 커서 이동이 가능한 파일 보기. cat보다는 긴 파일을 쉽게 볼 수 있다는 장점
- ln : ln 옵션 링크의 원본파일패스/이름 링크파일패스 이름, 지정한 파일에 대한 심볼릭링크(바로가기)나 하드링크를 생성
  - s옵션: 심볼릭 링크 만드는 옵션
  - 심볼릭 링크는 약간 포인터처럼 ls -al 해보면 다른 파일을 가리키는 꼴로 존재함
  - 심볼릭 링크에서는 원본파일이 삭제되거나 변경되면 링크가 깨졌다는 표시가 나옴
- paste : 지정한 파일들의 행을 읽어 탭으로 구분하여 병합함(가로로 병합)
- dd : dataset definition - 블록 단위로 데이터셋을 정의하여 파일을 쓰고 읽음. dd if=인풋 of=아웃풋 bs=바이트(크기) count=블럭복사횟수
  - dev/urandom : 리눅스의 난수 생성기
  - 밴치마킹?도 한다는데 잘 모르겟다
- tar : 지정한 데이터 및 디렉토리를 하나의 파일로 만듬. 묶여있는 파일을 풀거나 압축이 되어있든 안되어있는 파일을 풀음
  - tar -cvzf : 압축하기
  - tar -xvzf : 압축풀기
  - tf : 내부 탐색
  - c : create
  - v : verbose
  - z : 집으로 압축
  - f : 파일명을 명시적으로
  - tgz : 타르로 지집 압축까지 했음
